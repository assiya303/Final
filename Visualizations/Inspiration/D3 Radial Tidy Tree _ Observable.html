<!DOCTYPE html>
<!-- saved from url=(0059)https://beta.observablehq.com/@mbostock/d3-radial-tidy-tree -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="google-site-verification" content="Cb1i2q7oVgeeYvCfXyzou6YrKo5cPOGleoeIojAGqLM">
<meta name="description" content="D3 Radial Tidy Tree The Flare visualization toolkit package hierarchy."><meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="D3 Radial Tidy Tree">
<meta property="og:description" content="An Observable notebook by Mike Bostock.">
<meta property="og:image" content="https://static.observableusercontent.com/thumbnail/404014593276ff232cfd557bc401d59a70b97ef046709ade361196951ce52fca.jpg">
<link rel="prefetch" href="https://static.observableusercontent.com/worker/worker.676d9eec9c4e377a0dec454eac39eaed69a7c3c488ef2cc8ecb954551f8dc0eb.css">
<link rel="prefetch" href="https://static.observableusercontent.com/worker/worker.cde9090a9b5ab6c69d03df281dbd1a22ada433f5daddd2997270125ffb0dba79.js">
<link rel="prefetch" href="https://cdn.jsdelivr.net/npm/marked@0.3.12/marked.min.js">

<title>D3 Radial Tidy Tree / Observable</title>
<link rel="stylesheet" type="text/css" href="./D3 Radial Tidy Tree _ Observable_files/style.dafd4eea2e1ba24d11c8897af0d5de8db149ad122cfd3f4687b4dbe844d2f952.css">
<link rel="apple-touch-icon" href="https://static.observablehq.com/favicon-512.e994d8ef78e387a9715cc1aab4dfdbc250bf565186e1165a931b055d1e02e84d.png">
<link rel="icon" type="image/png" href="https://static.observablehq.com/favicon-512.e994d8ef78e387a9715cc1aab4dfdbc250bf565186e1165a931b055d1e02e84d.png" sizes="512x512">
<link rel="search" type="application/opensearchdescription+xml" href="https://static.observablehq.com/opensearch.17954acae039c23392ee148792c1aab1a453de807cd92bed4a31ba0a1a289db2.xml" title="Observable search">
</head>
<body class="relative sans-serif " data-react-helmet="class">
<div id="app"><div class="flex flex-column min-vh-100"><div class="z-3 bg-white top-0 bb b--black-05 relative"><div class="w-100 mw8 ph3 center flex justify-between pv2 items-center"><div class="inline-flex items-center"><a class="flex items-center ph2-ns pv2 mr3 mr2-ns no-underline" href="https://beta.observablehq.com/" style="line-height: 0;"><svg role="img" viewBox="0 0 24 24" aria-label="Observable" fill="currentColor" class="black" style="height: 24px; width: 24px;"><path d="M12 21c-1.108 0-2.068-.261-2.88-.783a5.137 5.137 0 0 1-1.867-2.126 11.821 11.821 0 0 1-.952-2.847A16.523 16.523 0 0 1 6 12c0-.862.052-1.686.157-2.474.104-.787.297-1.587.578-2.399.281-.812.643-1.516 1.084-2.113a4.987 4.987 0 0 1 1.735-1.455C10.27 3.186 11.084 3 12 3c1.108 0 2.068.261 2.88.783a5.137 5.137 0 0 1 1.867 2.126c.434.895.751 1.844.952 2.847.2 1.002.301 2.084.301 3.244 0 .862-.052 1.686-.157 2.474a11.76 11.76 0 0 1-.59 2.399c-.29.812-.65 1.516-1.084 2.113-.434.597-1.008 1.082-1.723 1.455-.715.373-1.53.559-2.446.559zm2.118-6.882A2.888 2.888 0 0 0 15 12c0-.824-.287-1.53-.86-2.118C13.566 9.294 12.853 9 12 9c-.853 0-1.566.294-2.14.882A2.925 2.925 0 0 0 9 12c0 .824.287 1.53.86 2.118.574.588 1.287.882 2.14.882.853 0 1.559-.294 2.118-.882zM12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z"></path></svg><span class="ml2 f3-ns f4 fw7 black">Observable</span></a><div role="combobox" aria-haspopup="listbox" aria-owns="react-autowhatever-1" aria-expanded="false" class="dib relative"><div class="relative"><input type="text" autocomplete="off" aria-autocomplete="list" aria-controls="react-autowhatever-1" required="" title="Search" placeholder="Search" maxlength="256" class="w5 f6 ba b--black-10 input-reset bg-white outline-0 search mr1 mr2-m mr3-l pl4 pr3 br2 fw6" value="" aria-activedescendant="react-autowhatever-1--item-0" style="padding-top: 7px; padding-bottom: 7px;"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16" class="absolute left-0 w1 h1 pa2 ml1 black-30 pen" style="stroke-width: 1;"><g><circle cx="7" cy="7" r="4"></circle><path d="M13 13l-3-3"></path></g></svg></div><div id="react-autowhatever-1" role="listbox" class="dn absolute z-max"><div class="db absolute left-0 w5 bg-white br1 shadow-4 overflow-hidden" style="margin-top: 10px;"></div><div class="absolute left-1" style="top: -4px; clip: rect(0px, 18px, 14px, -4px);"><div class="w1 h1 bg-white shadow-4" style="transform: rotate(45deg) translate(6px, 6px);"></div></div></div></div></div><div class="flex items-center"><div class="relative"><button title="More actionsâ€¦" class="pointer flex fw6 black-20 hover-black-50 bg-transparent mr2 br2 pv2 ph2 bn f6"><svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16"><circle r="2" cy="8" cx="2"></circle><circle r="2" cy="8" cx="8"></circle><circle r="2" cy="8" cx="14"></circle></svg></button></div><a class="no-underline pointer inline-flex fw6 mr3-ns mr2 black-70 hover-black bg-light-gray hover-bg-moon-gray br2 pa2 bn f6"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16" class="w1 h1 mr1-ns"><g><circle cx="5" cy="12.5" r="1.5"></circle><circle cx="5" cy="3.5" r="1.5"></circle><circle cx="11" cy="3.5" r="1.5"></circle><path d="M5 10.5V5"></path><path d="M5 8h3.995C10.332 8 11 7 11 5"></path></g></svg><span class="dn db-ns">Fork</span></a><a class="pa2 mr3 f6 fw6 tc no-underline blue hover-dark-blue" href="https://beta.observablehq.com/playground"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16" class="dib w1 h1 v-top mr1-ns"><g><path d="M13 8.922v2.967c0 .614-.497 1.111-1.111 1.111H4.11A1.111 1.111 0 0 1 3 11.889V4.11C3 3.497 3.497 3 4.111 3h2.967"></path><path d="M12 2l2 2-5 5H7V7z"></path></g></svg><span class="dn di-ns">Playground</span></a><a class="ph3-ns ph2 pv2 f6 fw6 no-underline white bg-green hover-bg-dark-green br2 bn pointer">Sign in</a></div></div><div class="mt2 bt b--black-05 bg-washed-yellow"><div class="w-100 mw8 ph3 center  pv2 items-center"><div class="flex justify-between ph2-ns pv1"><span>ðŸ‘‹ Welcome. This is live code! Click the left margin to view or edit.</span><button class="inline-flex pa0 black-50 hover-black bg-transparent bn pointer"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16" class="w1 h1"><path d="M13 3L3 13M3 3l10 10"></path></svg></button></div></div></div></div><div class="w-100 mw8 center mt4" style="flex: 1 1 0%;"><div class="flex justify-between ph3"><div class="flex measure-wide-ns items-center-ns items-top pl2-ns mw-100"><a class="inline-flex" href="https://beta.observablehq.com/@mbostock"><img alt="@mbostock" src="./D3 Radial Tidy Tree _ Observable_files/230541" class="br-100 mw-none" style="width: 60px; height: 60px; max-width: none; flex-shrink: 0;"></a><div class="w-100 pl2 pl3-ns f6"><div class="flex items-center"><a class="inline-flex items-center no-underline black hover-blue" href="https://beta.observablehq.com/@mbostock">Mike Bostock</a><span class="black-50"><span class="ml1 nowrap" title="11/15/2017, 5:02:10 PM
2/6/2019, 11:23:19 AM (updated)">Â· Nov 15, 2017</span></span></div><div class="mt1 lh-copy black-50">Building a better computational medium. Founder <a class="no-underline black-70 hover-blue" href="https://beta.observablehq.com/@observablehq">@observablehq</a>. Creator <a class="no-underline black-70 hover-blue" href="https://beta.observablehq.com/@d3">@d3</a>. Former <a class="no-underline black-70 hover-blue" href="https://beta.observablehq.com/@nytgraphics">@nytgraphics</a>. Pronounced BOSS-tock.</div></div></div><div class="flex flex-column items-center ml2 f6"><a title="Like this notebook." class="flex-column inline-flex w2 items-stretch black-50 hover-bg-light-gray ba b--black-10 br2 pointer overflow-hidden"><div class="flex h2 items-center justify-center pa1"><svg viewBox="0 0 16 16" fill="var(--white)" stroke="var(--black-50)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16" class="" style="width: 22px; height: 22px; stroke-width: 1; transition: all 0.4s ease-in-out 0s;"><path d="M13.075 3.925A3.157 3.157 0 0 0 10.842 3c-.838 0-1.641.478-2.233 1.07L8 4.68l-.609-.61c-1.233-1.233-3.233-1.378-4.466-.145a3.158 3.158 0 0 0 0 4.467L3.534 9 8 13.788 12.466 9l.609-.608a3.157 3.157 0 0 0 0-4.467z"></path></svg></div><div class="f6 tc bg-white bt b--black-10" style="padding-top: 2px; padding-bottom: 2px;">14</div></a></div></div><div class="ph3 mt4" style="min-height: 2rem;"><div class="inline-flex mr4 f6 fw4 black-50"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16" class="mr1 black-30" style="stroke-width: 1;"><path d="M4 4h4v4H4zM8 4h4v4H8zM8 8h4v4H8zM4 8h4v4H4z"></path></svg><div>Featured in <a class="no-underline black-70 hover-blue" href="https://beta.observablehq.com/collection/@observablehq/visualization">Visualization</a></div></div><div class="inline-flex f6 fw4"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16" class="mr1 black-30" style="stroke-width: 1;"><g><circle cx="5" cy="12.5" r="1.5"></circle><circle cx="5" cy="3.5" r="1.5"></circle><circle cx="11" cy="3.5" r="1.5"></circle><path d="M5 10.5V5"></path><path d="M5 8h3.995C10.332 8 11 7 11 5"></path></g></svg><div class="black-50"><a class="no-underline black-70 hover-blue" href="https://beta.observablehq.com/@mbostock/d3-radial-tidy-tree/forks">31 forks</a></div></div></div><div class="relative mh0-ns nl3 " style="margin-left: 21px;"><div tabindex="-1" class="relative outline-0"><iframe class="absolute bn " scrolling="no" sandbox="allow-same-origin allow-scripts allow-popups allow-forms allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation" allow="geolocation; microphone; camera; midi; encrypted-media; autoplay; accelerometer; magnetometer; gyroscope; vr" allowfullscreen="" src="./D3 Radial Tidy Tree _ Observable_files/worker.f0307b57a96cd26df0723bc2dfc3d2fa58b5d057c846ef352e9df998f7648783.html" style="height: 2810px; min-width: 100%; width: 0px;"></iframe><div class="absolute h-100" style="width: 50vw; left: -50vw;"></div><div class="dib relative w-100 code f6 lh-copy black pen"><div data-node-id="1" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 80px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="chart" data-node-id="10" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 982px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer black-30 hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div class="relative pea bg-near-white"><div class="CodeMirror cm-s-observable CodeMirror-wrap" style="height: auto;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 6px; left: 14px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 1010px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>â€‹</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 20.8px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">chart</span> <span class="cm-operator">=</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">const</span> <span class="cm-def">root</span> <span class="cm-operator">=</span> <span class="cm-variable-2">tree</span>(<span class="cm-variable-2">data</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">const</span> <span class="cm-def">svg</span> <span class="cm-operator">=</span> <span class="cm-variable-2">d3</span>.<span class="cm-property">select</span>(<span class="cm-variable-2">DOM</span>.<span class="cm-property">svg</span>(<span class="cm-variable-2">width</span>, <span class="cm-variable-2">width</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"width"</span>, <span class="cm-string">"100%"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"height"</span>, <span class="cm-string">"auto"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"padding"</span>, <span class="cm-string">"10px"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"box-sizing"</span>, <span class="cm-string">"border-box"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"font"</span>, <span class="cm-string">"10px sans-serif"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">const</span> <span class="cm-def">link</span> <span class="cm-operator">=</span> <span class="cm-variable-2">svg</span>.<span class="cm-property">append</span>(<span class="cm-string">"g"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"fill"</span>, <span class="cm-string">"none"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"stroke"</span>, <span class="cm-string">"#555"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"stroke-opacity"</span>, <span class="cm-number">0.4</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"stroke-width"</span>, <span class="cm-number">1.5</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">selectAll</span>(<span class="cm-string">"path"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">data</span>(<span class="cm-variable-2">root</span>.<span class="cm-property">links</span>())</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">join</span>(<span class="cm-string">"path"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"d"</span>, <span class="cm-variable-2">d3</span>.<span class="cm-property">linkRadial</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">angle</span>(<span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">x</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">radius</span>(<span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">y</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">const</span> <span class="cm-def">node</span> <span class="cm-operator">=</span> <span class="cm-variable-2">svg</span>.<span class="cm-property">append</span>(<span class="cm-string">"g"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"stroke-linejoin"</span>, <span class="cm-string">"round"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"stroke-width"</span>, <span class="cm-number">3</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">selectAll</span>(<span class="cm-string">"g"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">data</span>(<span class="cm-variable-2">root</span>.<span class="cm-property">descendants</span>().<span class="cm-property">reverse</span>())</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">join</span>(<span class="cm-string">"g"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"transform"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-string-2">`</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string-2">rotate(${</span><span class="cm-variable-2">d</span>.<span class="cm-property">x</span> <span class="cm-operator">*</span> <span class="cm-number">180</span> <span class="cm-operator">/</span> <span class="cm-variable-2">Math</span>.<span class="cm-property">PI</span> <span class="cm-operator">-</span> <span class="cm-number">90</span><span class="cm-string-2">})</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string-2">translate(${</span><span class="cm-variable-2">d</span>.<span class="cm-property">y</span><span class="cm-string-2">},0)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-string-2">`</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">node</span>.<span class="cm-property">append</span>(<span class="cm-string">"circle"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"fill"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">children</span> <span class="cm-operator">?</span> <span class="cm-string">"#555"</span> : <span class="cm-string">"#999"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"r"</span>, <span class="cm-number">2.5</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">node</span>.<span class="cm-property">append</span>(<span class="cm-string">"text"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"dy"</span>, <span class="cm-string">"0.31em"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"x"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">x</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">Math</span>.<span class="cm-property">PI</span> <span class="cm-operator">===</span> <span class="cm-operator">!</span><span class="cm-variable-2">d</span>.<span class="cm-property">children</span> <span class="cm-operator">?</span> <span class="cm-number">6</span> : <span class="cm-operator">-</span><span class="cm-number">6</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"text-anchor"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">x</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">Math</span>.<span class="cm-property">PI</span> <span class="cm-operator">===</span> <span class="cm-operator">!</span><span class="cm-variable-2">d</span>.<span class="cm-property">children</span> <span class="cm-operator">?</span> <span class="cm-string">"start"</span> : <span class="cm-string">"end"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"transform"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">x</span> <span class="cm-operator">&gt;=</span> <span class="cm-variable-2">Math</span>.<span class="cm-property">PI</span> <span class="cm-operator">?</span> <span class="cm-string">"rotate(180)"</span> : <span class="cm-atom">null</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">text</span>(<span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">data</span>.<span class="cm-property">name</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">clone</span>(<span class="cm-atom">true</span>).<span class="cm-property">lower</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"stroke"</span>, <span class="cm-string">"white"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">autosize</span>(<span class="cm-variable-2">svg</span>.<span class="cm-property">node</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 1010px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1023px;"></div></div></div><a title="Click to save. (Shift-Enter)" class="absolute top-0 right-0 pa2 z-2 pointer black-30 hover-black" style="user-select: none;"><svg width="16" height="16" class="db" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round" fill="none"><path d="M4 3L12 8L4 13Z"></path></svg></a></div><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--black-30" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"><button type="button" title="Click for options.
Drag to move." class="inline-flex hover-black black-30 hover-bg-light-gray bg-transparent bn " style="padding: 9px 6px 10px; margin-top: -6px; cursor: grab;"><svg viewBox="0 0 8 14" fill="currentColor" stroke="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="8" height="14"><circle r="1.5" cx="4" cy="2"></circle><circle r="1.5" cx="4" cy="7"></circle><circle r="1.5" cx="4" cy="12"></circle></svg></button></div></div></div><div id="data" data-node-id="3" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer black-30 hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div class="relative pea bg-near-white"><div class="CodeMirror cm-s-observable CodeMirror-wrap" style="height: auto;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 6px; left: 14px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 33px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 20.8px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">data</span> <span class="cm-operator">=</span> <span class="cm-variable-2">d3</span>.<span class="cm-property">json</span>(<span class="cm-string">"https://raw.githubusercontent.com/d3/d3-hierarchy/v1.1.8/test/data/flare.json"</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 33px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></div><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--black-30" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="tree" data-node-id="104" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 34px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div class="relative pea bg-near-white"><div class="CodeMirror cm-s-observable CodeMirror-wrap" style="height: auto;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 6px; left: 14px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 95px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 20.8px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">tree</span> <span class="cm-operator">=</span> <span class="cm-def">data</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d3</span>.<span class="cm-property">tree</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">size</span>([<span class="cm-number">2</span> <span class="cm-operator">*</span> <span class="cm-variable-2">Math</span>.<span class="cm-property">PI</span>, <span class="cm-variable-2">radius</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">separation</span>((<span class="cm-def">a</span>, <span class="cm-def">b</span>) <span class="cm-operator">=&gt;</span> (<span class="cm-variable-2">a</span>.<span class="cm-property">parent</span> <span class="cm-operator">==</span> <span class="cm-variable-2">b</span>.<span class="cm-property">parent</span> <span class="cm-operator">?</span> <span class="cm-number">1</span> : <span class="cm-number">2</span>) <span class="cm-operator">/</span> <span class="cm-variable-2">a</span>.<span class="cm-property">depth</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  (<span class="cm-variable-2">d3</span>.<span class="cm-property">hierarchy</span>(<span class="cm-variable-2">data</span>))</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 95px;"></div><div class="CodeMirror-gutters" style="display: none; height: 108px;"></div></div></div></div><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--black-30" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="width" data-node-id="99" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div class="relative pea bg-near-white"><div class="CodeMirror cm-s-observable CodeMirror-wrap" style="height: auto;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 6px; left: 14px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 33px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 20.8px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">width</span> <span class="cm-operator">=</span> <span class="cm-number">932</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 33px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></div><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--black-30" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="radius" data-node-id="101" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 34px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div class="relative pea bg-near-white"><div class="CodeMirror cm-s-observable CodeMirror-wrap" style="height: auto;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 6px; left: 14px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 33px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 20.8px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">radius</span> <span class="cm-operator">=</span> <span class="cm-variable-2">width</span> <span class="cm-operator">/</span> <span class="cm-number">2</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 33px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></div><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--black-30" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="autosize" data-node-id="146" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div class="relative pea bg-near-white"><div class="CodeMirror cm-s-observable CodeMirror-wrap" style="height: auto;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 6px; left: 14px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 158px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 20.8px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">function</span> <span class="cm-def">autosize</span>(<span class="cm-def">svg</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">document</span>.<span class="cm-property">body</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable-2">svg</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">const</span> <span class="cm-def">box</span> <span class="cm-operator">=</span> <span class="cm-variable-2">svg</span>.<span class="cm-property">getBBox</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">document</span>.<span class="cm-property">body</span>.<span class="cm-property">removeChild</span>(<span class="cm-variable-2">svg</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">svg</span>.<span class="cm-property">setAttribute</span>(<span class="cm-string">"viewBox"</span>, <span class="cm-string-2">`${</span><span class="cm-variable-2">box</span>.<span class="cm-property">x</span><span class="cm-string-2">}</span> <span class="cm-string-2">${</span><span class="cm-variable-2">box</span>.<span class="cm-property">y</span><span class="cm-string-2">}</span> <span class="cm-string-2">${</span><span class="cm-variable-2">box</span>.<span class="cm-property">width</span><span class="cm-string-2">}</span> <span class="cm-string-2">${</span><span class="cm-variable-2">box</span>.<span class="cm-property">height</span><span class="cm-string-2">}`</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">svg</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 158px;"></div><div class="CodeMirror-gutters" style="display: none; height: 171px;"></div></div></div></div><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--black-30" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="d3" data-node-id="7" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div class="relative pea bg-near-white"><div class="CodeMirror cm-s-observable CodeMirror-wrap" style="height: auto;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 6px; left: 14px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 33px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 20.8px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">d3</span> <span class="cm-operator">=</span> <span class="cm-variable-2">require</span>(<span class="cm-string">"d3@5"</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 33px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></div><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--black-30" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div class="relative" style="margin-top: 17px; margin-bottom: 17px;"><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a></div></div><div class="relative h4 pointer" title="Click to insert. (Alt-Enter)" style="margin-left: -50vw; width: calc(100% + 50vw);"></div></div></div></div><div class="bg-near-white bt b--black-10"><div class="w-100 mw8 ph3 center pt4 pb4"><div class="pb4"><div class="pv2 pt2 pt4-ns f5 fw7 black-50">Continue reading <a class="no-underline black-70 hover-blue" href="https://beta.observablehq.com/collection/@observablehq/visualization">Visualization</a></div><div class="mw6 pt2 cf"><a class="fl w-50 no-underline" href="https://beta.observablehq.com/@mbostock/d3-parallel-coordinates"><div class="db pv1 f7 fw4 tracked ttu black-50">Next</div><div class="black hover-blue bg-white br2 overflow-hidden hover-shadow-4"><div class="relative"><div class="br--top cover bg-center" style="padding-top: 62.5%; background-image: url(&quot;https://static.observableusercontent.com/thumbnail/4def45232f801d435638e0854c9032da230f54e77c5a8f133f896d3e449b761a.jpg&quot;);"></div><div class="truncate"><div class="f6 fw4 db ph2 flex lh-solid"><div title="D3 Parallel Coordinates" class="pv2 truncate">D3 Parallel Coordinates</div></div></div></div></div></a></div></div><div class="flex flex-row flex-wrap justify-between pt4 f6 fw4 lh-copy black-50"><div>Â© 2019 <span class="mr2-ns nowrap">Observable, Inc.</span> <div class="dib-ns nowrap"><a href="https://beta.observablehq.com/terms-of-service" class="mh2-ns mr1 blue hover-dark-blue link">Terms</a> <a class="mh2-ns mr1 blue hover-dark-blue link" href="https://beta.observablehq.com/open-source">Open Source</a></div></div></div></div></div></div></div>
<div class="modal"></div>
<div class="overlay"><div><div class="fixed bottom-1 right-1 tc z-2"><div class="fixed right-1 z-2" style="bottom: 1rem;"><div title="Helpâ€¦" class="inline-flex items-center justify-center bg-white ba b--black-20 pointer hover-b--black-50" style="width: 36px; height: 36px; border-radius: 18px;">?</div></div></div></div></div>


<script src="./D3 Radial Tidy Tree _ Observable_files/bundle.968c438f27294cf12e27bedda51eb123d8623a0319280b48e50b3676755f4405.js.download" crossorigin=""></script>
<script async="" src="./D3 Radial Tidy Tree _ Observable_files/analytics.js.download"></script><script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/beta.observablehq.com\/@mbostock\/d3-radial-tidy-tree"},"headline":"D3 Radial Tidy Tree","image":["https:\/\/static.observableusercontent.com\/thumbnail\/404014593276ff232cfd557bc401d59a70b97ef046709ade361196951ce52fca.jpg"],"datePublished":"2017-11-16T00:02:10.955Z","dateModified":"2017-11-16T00:02:10.955Z","author":{"@type":"Person","name":"Mike Bostock"},"publisher":{"@type":"Organization","name":"Observable","logo":{"@type":"ImageObject","url":"https:\/\/static.observablehq.com\/favicon-512.e994d8ef78e387a9715cc1aab4dfdbc250bf565186e1165a931b055d1e02e84d.png"}}}</script><noscript><p>D3 Radial Tidy Tree The Flare visualization toolkit package hierarchy.</p>
<pre>chart = {
  const root = tree(data);
  
  const svg = d3.select(DOM.svg(width, width))
      .style(&quot;width&quot;, &quot;100%&quot;)
      .style(&quot;height&quot;, &quot;auto&quot;)
      .style(&quot;padding&quot;, &quot;10px&quot;)
      .style(&quot;box-sizing&quot;, &quot;border-box&quot;)
      .style(&quot;font&quot;, &quot;10px sans-serif&quot;);

  const link = svg.append(&quot;g&quot;)
      .attr(&quot;fill&quot;, &quot;none&quot;)
      .attr(&quot;stroke&quot;, &quot;#555&quot;)
      .attr(&quot;stroke-opacity&quot;, 0.4)
      .attr(&quot;stroke-width&quot;, 1.5)
    .selectAll(&quot;path&quot;)
    .data(root.links())
    .join(&quot;path&quot;)
      .attr(&quot;d&quot;, d3.linkRadial()
          .angle(d =&gt; d.x)
          .radius(d =&gt; d.y));
  
  const node = svg.append(&quot;g&quot;)
      .attr(&quot;stroke-linejoin&quot;, &quot;round&quot;)
      .attr(&quot;stroke-width&quot;, 3)
    .selectAll(&quot;g&quot;)
    .data(root.descendants().reverse())
    .join(&quot;g&quot;)
      .attr(&quot;transform&quot;, d =&gt; &#x60;
        rotate(${d.x * 180 / Math.PI - 90})
        translate(${d.y},0)
      &#x60;);
  
  node.append(&quot;circle&quot;)
      .attr(&quot;fill&quot;, d =&gt; d.children ? &quot;#555&quot; : &quot;#999&quot;)
      .attr(&quot;r&quot;, 2.5);
  
  node.append(&quot;text&quot;)
      .attr(&quot;dy&quot;, &quot;0.31em&quot;)
      .attr(&quot;x&quot;, d =&gt; d.x &lt; Math.PI === !d.children ? 6 : -6)
      .attr(&quot;text-anchor&quot;, d =&gt; d.x &lt; Math.PI === !d.children ? &quot;start&quot; : &quot;end&quot;)
      .attr(&quot;transform&quot;, d =&gt; d.x &gt;= Math.PI ? &quot;rotate(180)&quot; : null)
      .text(d =&gt; d.data.name)
    .clone(true).lower()
      .attr(&quot;stroke&quot;, &quot;white&quot;);

  return autosize(svg.node());
}</pre>
<pre>data = d3.json(&quot;https://raw.githubusercontent.com/d3/d3-hierarchy/v1.1.8/test/data/flare.json&quot;)</pre>
<pre>tree = data =&gt; d3.tree()
    .size([2 * Math.PI, radius])
    .separation((a, b) =&gt; (a.parent == b.parent ? 1 : 2) / a.depth)
  (d3.hierarchy(data))</pre>
<pre>width = 932</pre>
<pre>radius = width / 2</pre>
<pre>function autosize(svg) {
  document.body.appendChild(svg);
  const box = svg.getBBox();
  document.body.removeChild(svg);
  svg.setAttribute(&quot;viewBox&quot;, &#x60;${box.x} ${box.y} ${box.width} ${box.height}&#x60;);
  return svg;
}</pre>
<pre>d3 = require(&quot;d3@5&quot;)</pre></noscript></body></html>